<div id="page-wrapper">


  <h2>Busqueda Avanzada</h2>

    <table  ng-table="tablaGarantias" show-filter="true" export-csv="csv" separator=";" class="table table-striped table-hover table-condensed " >
        <th>Columna</th>
        <th>Valor</th>
        <tr ng-repeat="c in lista track by $index">
            <td>{{c}}</td>
            <td><input type="text" ng-model="listaBusqueda[$index]"></td></td>
            <td><button ng-click="removeRow($index)" class="btn btn-danger ng-scope">Quitar</button></td>
        </tr>
    </table>

    <!-- Single button -->
    <div class="btn-group" uib-dropdown is-open="status.isopen">
        <button id="single-button" type="button" class="btn btn-primary" uib-dropdown-toggle ng-disabled="disabled">
            Agregar Campo <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button" >
            <li role="menuitem" ng-repeat="col in columnsMetadata track by $index"><span ng-click="addColumn($index)">{{col}}</span></li>
        </ul>
    </div>
    <button ng-click="buscar()" class="btn btn-primary">Busqueda</button>

    {{listaBusqueda}}




    <h2>Resultados de la consulta</h2>
    <div class="form-group">
        <div class="col-sm-12" >
            <div data-toggle="collapse" data-target="#demo" class="ui-content">Ver Columnas</div>
            <div id="demo" class="collapse">
                <div ng-repeat="c in allColumns" >
                    <label>
                        <input type="checkbox" ng-model="c.checked">{{c.title}}
                    </label>
                </div>
                <div>
                    <input type="text" ng-model="columnName">{{c.title}}
                    <button class="btn green" ng-click="addColumn(columnName)">Agregar Columna</button>
                </div>
            </div>
        </div>
    </div>
    <table  ng-table="tablaGarantias" show-filter="true" export-csv="csv" separator=";" class="table table-striped table-hover table-condensed " >
        <thead>
        <tr>
            <th>id</th>

            <th ng-repeat="c in allColumns">{{ c.title }}
            </th>
            <th> opciones </th>
        </tr>
        </thead>
        <tr ng-repeat="row in searchResults">
            <td ng-repeat="column in row">{{column}}</td>
        </tr>
    </table>
</div>



