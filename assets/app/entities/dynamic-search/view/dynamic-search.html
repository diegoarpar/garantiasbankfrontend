<div id="page-wrapper">


  <h2>Busqueda Avanzada</h2>

    <table  ng-table="tablaGarantias" show-filter="true" export-csv="csv" separator=";" class="table table-striped table-hover table-condensed " >
        <th>Columna</th>
        <th>Valor</th>
        <tr ng-repeat="c in lista track by $index">
            <td>{{c}}</td>
            <td><input type="text" ng-model="listaBusqueda[$index]"></td></td>
            <td><button ng-click="removeRow($index)" class="btn btn-danger ng-scope">Quitar</button></td>
        </tr>
    </table>

    <!-- Single button -->
    <div class="btn-group" uib-dropdown is-open="status.isopen">
        <button id="single-button" type="button" class="btn btn-primary" uib-dropdown-toggle ng-disabled="disabled">
            Agregar Campo <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button" >
            <li role="menuitem" ng-repeat="col in columnsMetadata track by $index"><span ng-click="addColumn($index)">{{col}}</span></li>
        </ul>
    </div>
    <button ng-click="buscar()" class="btn btn-primary">Busqueda</button>

    {{listaBusqueda}}

    <h2>Resultados de la consulta</h2>
    <table  ng-table="tablaGarantias" show-filter="true" export-csv="csv" separator=";" class="table table-striped table-hover table-condensed " >
        <thead>
        <tr>
            <th>id</th>

            <th ng-repeat="c in columns">{{ c.title }}
            </th>
            <th> opciones </th>
        </tr>
        </thead>
        <tr ng-repeat="row in searchResults">
            <td ng-repeat="column in row">{{column}}</td>
        </tr>
    </table>
</div>



